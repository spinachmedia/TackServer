{"filter":false,"title":"passport.js","tooltip":"/passport.js","undoManager":{"mark":17,"position":17,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":33,"column":38},"action":"insert","lines":["// http://passportjs.org/guide/twitter/","var TWITTER_CONSUMER_KEY = 'TWITTER_CONSUMER_KEY';","var TWITTER_CONSUMER_SECRET = 'TWITTER_CONSUMER_SECRET';","var passport = require('passport')","  , TwitterStrategy = require('passport-twitter').Strategy;","","// Sessionの設定","// http://passportjs.org/guide/configure/","passport.serializeUser(function(user, done) {","    done(null, user.id);","});","passport.deserializeUser(function(obj, done) {","    done(null, obj);","});","","passport.use(new TwitterStrategy({","    consumerKey: TWITTER_CONSUMER_KEY,","    consumerSecret: TWITTER_CONSUMER_SECRET,","    callbackURL: \"http://localhost:3000/auth/twitter/callback\"","  },","  function(token, tokenSecret, profile, done) {","    passport.session.id = profile.id;","","    // tokenとtoken_secretをセット","    profile.twitter_token = token;","    profile.twitter_token_secret = tokenSecret;","","    process.nextTick(function () {","        return done(null, profile);","    });","  }","));","","module.exports = {passport: passport};"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":56},"action":"remove","lines":["var TWITTER_CONSUMER_KEY = 'TWITTER_CONSUMER_KEY';","var TWITTER_CONSUMER_SECRET = 'TWITTER_CONSUMER_SECRET';"]},{"start":{"row":1,"column":0},"end":{"row":2,"column":83},"action":"insert","lines":["var TWITTER_CONSUMER_KEY = '94YZevynJavcNqEqVsOhqFrxl';","var TWITTER_CONSUMER_SECRET = 'aIkvqbT7vsIWsFj5anGo8d2d8Z0tm2uiSu5R9LeyeGkZZ2QC9x';"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":39},"end":{"row":18,"column":61},"action":"remove","lines":["/auth/twitter/callback"]},{"start":{"row":18,"column":39},"end":{"row":18,"column":40},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":40},"end":{"row":18,"column":41},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":41},"end":{"row":18,"column":42},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":42},"end":{"row":18,"column":43},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":43},"end":{"row":18,"column":44},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":44},"end":{"row":18,"column":45},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":45},"end":{"row":18,"column":46},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":46},"end":{"row":18,"column":47},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":47},"end":{"row":18,"column":48},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":48},"end":{"row":18,"column":49},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":49},"end":{"row":18,"column":50},"action":"insert","lines":["F"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":50},"end":{"row":18,"column":51},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":51},"end":{"row":18,"column":52},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":52},"end":{"row":18,"column":53},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":53},"end":{"row":18,"column":54},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":54},"end":{"row":18,"column":55},"action":"insert","lines":["h"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":24,"column":34},"end":{"row":24,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":65,"mode":"ace/mode/javascript"}},"timestamp":1430009889000,"hash":"9e25493f680adb6e8fc4407e23d04291c99c2bec"}